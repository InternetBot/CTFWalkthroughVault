# Web Exploitation Walkthrough

Once you click on the website, you should see a controller that looks like this:

![Controller image](/Web%20Exploitation/assets/controller.png)

There isn't much to do on the page except click the buttons on the controller. Open the inspect mode:

- **macOS**: `Cmd + Option + I`  
- **Windows**: `Ctrl + Shift + I`

Once the inspect mode is opened, inspect the header. You should see a JavaScript script that provides an overview of what's going on:

![Script.js image](/Web%20Exploitation/assets/script1.png)

## Analyzing the Script

Upon further inspection of the script, you'll notice an `if` statement that specifies the condition required to produce a flag, lets focus on `presss`

```javascript
if (press === '1001149811411797101989897') {
    // Flag logic
}
```
## Initial Observations

Upon inspecting the script, we notice the following:
- There is an empty array called `data`.
- Each time a key is pressed, a function `k.charCodeAt(0)` is invoked.

At first glance, the purpose of `k.charCodeAt(0)` may seem unclear, but we'll dive into it shortly.

## Identifying the Cheat Code

The script appears to ask for a cheat code. This cheat code consists of 10 key pressed to unlock the flag. The following array defines the possible key inputs:

```javascript
['u', 'd', 'l', 'r', 'e', 't', 'a', 'b']
```
Now we could keep mashing random 10 digits till we get the flag but thats not time efficient.

## Inspecting the HTML File

By inspecting the HTML file, we can determine which game controller key each character represents:

if you are not sure what each char represents on the game keyboard you can scroll down and inspect the html file which gives you what each character is mapped to 

![Html image](/Web%20Exploitation/assets/html.png)

| Character | Controller Button |
|-----------|--------------------|
| u         | Up                 |
| l         | Left               |
| r         | Right              |
| d         | Down               |
| e         | Select             |
| t         | Start              |
| a         | A                  |
| b         | B                  |


These represent the buttons on a game controller. However, randomly pressing buttons wonâ€™t yield the correct cheat code.

## Understanding k.charCodeAt(0)

The `charCodeAt()` method in JavaScript returns the Unicode value of the character at the specified index. In this case, `k.charCodeAt(0)` returns the Unicode value of the first character of the pressed key and following characters.

Reference: [W3Schools - charCodeAt() Method](https://www.w3schools.com/jsref/jsref_charcodeat.asp)

## Reverse Engineering the Cheat Code

To decode this, we need to reverse-engineer it using the Unicode values of the key inputs. Remember the unicode was given to us earlier in the script 

```javascript
if (press === '1001149811411797101989897') {
    // Flag logic
}
```

| Button | Unicode |
|--------|---------|
| u      | 85      |
| l      | 108     |
| r      | 114     |
| d      | 100     |
| e      | 101     |
| t      | 116     |
| a      | 97      |
| b      | 98      |

Using this mapping, decode the Unicode string to find the correct button combination.


## Conclusion
With this approach, you can systematically decode the cheat code required to unlock the flag. Happy Hacking fellow Hacker 
